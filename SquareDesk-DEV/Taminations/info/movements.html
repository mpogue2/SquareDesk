<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

    Copyright 2015 Brad Christie

    This file is part of Taminations.

    Taminations is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Taminations is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with Taminations.  If not, see <http://www.gnu.org/licenses/>.

-->
<html lang="en">
<head>
<meta name="viewport" content="width=device-width" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link type="image/x-icon" href="../favicon.ico" rel="icon" />
<link href="../src/tamination.css" type="text/css" rel="stylesheet" />
<link href="../src/jquery-ui.css" rel="stylesheet" />

<script src="../ext/require.js" data-main="../src/config"></script>

<script type="text/javascript">
function movementsPageInit() {
$(document).ready(function() {
  //  Make sure this is run *after* the document.ready function in tampage.js
  window.setTimeout(function() {
    tamsvg.dancers[1].showBezier();
  },100);
});
}
</script>
<title>Movements</title>

</head>
<body><div class="definition">
<h2>Movements</h2>

<p>
Ultimately, every move is defined by a movement, which is another XML element.
A movement is one or two
<a href="http://wikipedia.org/wiki/B%C3%A9zier_curve">quadratic Bezier curves</a>.
 Each Bezier curve has a start point, an
end point, and two control points.  One curve controls the location of the dancer.
The dancer moves from the start point to the end point along the curve.
This page is hard-wired to show one of the paths with Bezier points.
You can view the paths with Bezier points on any page by Alt-clicking on a dancer.
</p>
<p>
The second Bezier curve controls the rotation of the dancer.  The default,
if only one curve is used, is for the dancer to always face the direction
of travel. This works for moves like Run but not for Dodge or Turn Back.
If a second curve is used, the dancer faces its direction as if it was used
for travel.
</p>
<p>
The points for the Bezier curves are in the dancer's coordinate system.
Since the curve always starts at the dancer's current position the first
point is always (0,0).  The other points are attributes of the movement
element.  Here is the movement for Run Left
</p>
<pre><code>  &lt;movement beats=&quot;3&quot; cx1=&quot;1.333&quot; cy1=&quot;0&quot; cx2=&quot;1.333&quot; cy2=&quot;2&quot; x2=&quot;0&quot; y2=&quot;2&quot; /&gt;
</code></pre>
<p>
The four points of the Bezier curve are the implied start point (0,0), the
end point (x2,y2) and the two control points (cx1,cy1) and (cx2,cy2).
The beats attribute is also needed, there is no default.
</p>
<p>
Here is the movement for U-Turn Left.  Since there is only rotation and no travel,
the first Bezier is all zero.  The rest of the attributes cx3 to y4 define the second Bezier.
</p>
<pre><code>  &lt;movement beats=&quot;3&quot; cx1=&quot;0&quot; cy1=&quot;0&quot; cx2=&quot;0&quot; cy2=&quot;0&quot; x2=&quot;0&quot; y2=&quot;0&quot;
                      cx3=&quot;1.333&quot; cx4=&quot;1.333&quot; cy4=&quot;2&quot; x4=&quot;0&quot; y4=&quot;2&quot; /&gt;
</code></pre>
<p>
Again, the start point is always (0,0) so it is not in the attributes.  Also,
since the dancer always starts facing forward (that's the definition of the
dancer coordinate system), the Y-coord of the first control point is always 0.
So the second Bezier has start point (0,0), end point (x4,y4) and control points
(cx3,0) and (cx4,cy4).  If you look closely you will see that the second Bezier
for U-Turn Left matches the first Bezier for Run Left.  So for U-Turn Left, the
dancer turns as if doing a Run Left but stays on the same spot on the floor.
</p>

<div style="float:left; margin:20px"><a href="moves2.html">&lt;-- Prev</a></div>
<div style="float:right; margin:20px"><a href="aboutformations.html">Next --&gt;</a></div>

</div></body>
</html>
